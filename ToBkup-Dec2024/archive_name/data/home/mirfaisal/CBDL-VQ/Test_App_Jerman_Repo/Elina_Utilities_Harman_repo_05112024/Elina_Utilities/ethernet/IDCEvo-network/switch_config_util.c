#include <fcntl.h>
#include <linux/spi/spidev.h>
#include <stdint.h>
#include <stdio.h>
#include <stdlib.h>
#include <sys/ioctl.h>
#include <unistd.h>
#include <string.h>

/* SPI write data for configuring switch */

uint8_t spi_switch_config_data_v910[][5] = {
    {0xA0, 0x03, 0x99, 0xFE, 0x73}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x0C}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFE, 0x73}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x1F}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFE, 0x05}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x40, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFE, 0x05}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0xC0, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0x80, 0x0C}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0x80, 0x0C}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFC, 0x10}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFC, 0x11}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x34}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFC, 0x12}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x0C}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFC, 0x13}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x1F}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x01}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x01}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x02}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x02}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x20, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x28}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x28}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x20, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x29}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x29}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x27}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x27}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x38, 0x46}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x2C}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x2C}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x38, 0x46}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x35}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x35}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x00, 0x07}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0A, 0x1C}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x27},
    {0xA0, 0x03, 0x99, 0x0C, 0x1C}, {0xA0, 0x03, 0x98, 0x84, 0x27},
    {0xA0, 0x03, 0x99, 0xFE, 0x60}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x5E}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFE, 0x60}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x00, 0x7F}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFC, 0x30}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x34, 0x34}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFC, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x23},
    {0xA0, 0x03, 0x99, 0x34, 0x34}, {0xA0, 0x03, 0x98, 0x84, 0x23},
    {0xA0, 0x03, 0x99, 0xFE, 0x73}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x0C}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFE, 0x73}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x1F}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFE, 0x05}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x40, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFE, 0x05}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0xC0, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0x80, 0x0C}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0x80, 0x0C}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFC, 0x10}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFC, 0x11}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x34}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFC, 0x12}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x0C}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFC, 0x13}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x1F}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x01}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x01}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x02}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x02}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x20, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x28}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x28}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x20, 0x20}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x29}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x29}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x00, 0x00}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x27}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x27}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x38, 0x46}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x2C}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x2C}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x38, 0x46}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x35}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x35}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x32}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x00, 0x07}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0A, 0x1C}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0x80, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x47},
    {0xA0, 0x03, 0x99, 0x0C, 0x1C}, {0xA0, 0x03, 0x98, 0x84, 0x47},
    {0xA0, 0x03, 0x99, 0xFE, 0x60}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x5E}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFE, 0x60}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x00, 0x7F}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFC, 0x30}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x34, 0x34}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x03, 0x99, 0xFC, 0x31}, {0xA0, 0x03, 0x98, 0x80, 0x43},
    {0xA0, 0x03, 0x99, 0x34, 0x34}, {0xA0, 0x03, 0x98, 0x84, 0x43},
    {0xA0, 0x00, 0xE1, 0xC0, 0x03}, {0xA0, 0x00, 0xA1, 0xC0, 0x03},
    {0xA0, 0x00, 0x24, 0x00, 0x7F}, {0xA0, 0x00, 0x44, 0x00, 0x7F},
    {0xA0, 0x00, 0x64, 0x00, 0x7F}, {0xA0, 0x00, 0x84, 0x00, 0x7F},
    {0xA0, 0x00, 0xC4, 0x00, 0x7F}, {0xA0, 0x00, 0xE4, 0x00, 0x7F},
    {0xA0, 0x03, 0x7C, 0x00, 0xC0}, {0xA0, 0x03, 0x7B, 0x10, 0x00},
    {0xA0, 0x03, 0x7A, 0x80, 0x00}, {0xA0, 0x03, 0x79, 0x7C, 0xA0},
    {0xA0, 0x00, 0xE0, 0x0E, 0x07}, {0xA0, 0x03, 0x7A, 0x80, 0x00},
    {0xA0, 0x00, 0xA4, 0x00, 0x7F}, {0xA0, 0x01, 0x04, 0x00, 0x7F},
    {0xA0, 0x00, 0xe1, 0xC0, 0x03}, {0xA0, 0x03, 0x7B, 0x13, 0xF8},
    {0xA0, 0x03, 0x7A, 0xdd, 0xdd}, {0xA0, 0x03, 0x7A, 0x80, 0x00},
    {0xA0, 0x03, 0x79, 0xFC, 0xe0}, {0xA0, 0x00, 0xe0, 0x00, 0x07},
};

uint8_t spi_switch_config_data_v920[][5] = {
    {0XA0, 0X03, 0X99, 0XFE, 0X73}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X0C}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFE, 0X73}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X1F}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFE, 0X05}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X40, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFE, 0X05}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0XC0, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0X80, 0X0C}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0X80, 0X0C}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFC, 0X10}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFC, 0X11}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X34}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFC, 0X12}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X0C}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFC, 0X13}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X1F}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X01}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X01}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X02}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X02}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X20, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X28}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X28}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X20, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X29}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X29}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X27}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X27}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X38, 0X46}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X2C}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X2C}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X38, 0X46}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X35}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X35}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X00, 0X07}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0A, 0X1C}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X27},
    {0XA0, 0X03, 0X99, 0X0C, 0X1C}, {0XA0, 0X03, 0X98, 0X84, 0X27},
    {0XA0, 0X03, 0X99, 0XFE, 0X60}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X5E}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFE, 0X60}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X00, 0X7F}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFC, 0X30}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X34, 0X34}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFC, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X23},
    {0XA0, 0X03, 0X99, 0X34, 0X34}, {0XA0, 0X03, 0X98, 0X84, 0X23},
    {0XA0, 0X03, 0X99, 0XFE, 0X73}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X0C}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFE, 0X73}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X1F}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFE, 0X05}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X40, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFE, 0X05}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0XC0, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0X80, 0X0C}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0X80, 0X0C}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFC, 0X10}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFC, 0X11}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X34}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFC, 0X12}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X0C}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFC, 0X13}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X1F}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X01}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X01}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X02}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X02}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X20, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X28}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X28}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X20, 0X20}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X29}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X29}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X00, 0X00}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X27}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X27}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X38, 0X46}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X2C}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X2C}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X38, 0X46}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X35}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X35}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X32}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X00, 0X07}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0A, 0X1C}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0X80, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X47},
    {0XA0, 0X03, 0X99, 0X0C, 0X1C}, {0XA0, 0X03, 0X98, 0X84, 0X47},
    {0XA0, 0X03, 0X99, 0XFE, 0X60}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X5E}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFE, 0X60}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X00, 0X7F}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFC, 0X30}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X34, 0X34}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X03, 0X99, 0XFC, 0X31}, {0XA0, 0X03, 0X98, 0X80, 0X43},
    {0XA0, 0X03, 0X99, 0X34, 0X34}, {0XA0, 0X03, 0X98, 0X84, 0X43},
    {0XA0, 0X00, 0XE1, 0XC0, 0X03}, {0XA0, 0X00, 0XA1, 0XC0, 0X03},
    {0XA0, 0X00, 0X24, 0X00, 0X7F}, {0XA0, 0X00, 0X44, 0X00, 0X7F},
    {0XA0, 0X00, 0X64, 0X00, 0X7F}, {0XA0, 0X00, 0X84, 0X00, 0X7F},
    {0XA0, 0X00, 0XC4, 0X00, 0X7F}, {0XA0, 0X00, 0XE4, 0X00, 0X7F},
    {0XA0, 0X03, 0X7C, 0X00, 0XC0}, {0XA0, 0X03, 0X7B, 0X10, 0X00},
    {0XA0, 0X03, 0X7A, 0X80, 0X00}, {0XA0, 0X03, 0X79, 0X7C, 0XA0},
    {0XA0, 0X00, 0XE0, 0X0E, 0X07}, {0XA0, 0X03, 0X7A, 0X80, 0X00},
    {0XA0, 0X00, 0XA4, 0X00, 0X7F}, {0XA0, 0X01, 0X04, 0X00, 0X7F},
    {0XA0, 0X03, 0X99, 0XFC, 0X26}, {0XA0, 0X03, 0X98, 0X80, 0XA3},
    {0XA0, 0X03, 0X99, 0X82, 0X52}, {0XA0, 0X03, 0X98, 0X84, 0XA3},
    {0XA0, 0X00, 0XE1, 0XC0, 0X03}, {0XA0, 0X03, 0X7B, 0X13, 0XF8},
    {0XA0, 0X03, 0X7A, 0XDD, 0XDD}, {0XA0, 0X03, 0X7A, 0X80, 0X00},
    {0XA0, 0X03, 0X79, 0XFC, 0XE0}, {0XA0, 0X00, 0XE0, 0X00, 0X07},
};

static void pabort(const char *s)
{
  perror(s);
  abort();
}

static const char *SPI_DEVICE_v910 = "/dev/spidev10.0";
static const char *SPI_DEVICE_v920 = "/dev/spidev14.0";
static char soc_id_str[100];
static uint8_t mode = 0;
static uint8_t bits = 8;
static uint32_t speed = 4000000;
static int is_v920 = 0;
uint8_t (*spi_switch_config_data)[5] = NULL;
const char * SPI_DEVICE = NULL;
int command_list_size = 0;

int main(void) {
  FILE * soc_id_file = fopen("/sys/devices/soc0/soc_id","r");
  if(soc_id_file)
  {
    fgets(soc_id_str,100,soc_id_file);
    if(strstr(soc_id_str,"EXYNOSAUTOV920")) is_v920 = 1;
    fclose(soc_id_file);
  }
  if (is_v920)
  {
    SPI_DEVICE = SPI_DEVICE_v920;
    spi_switch_config_data = spi_switch_config_data_v920;
    command_list_size = sizeof(spi_switch_config_data_v920) / sizeof(spi_switch_config_data_v920[0]);
  } else {
    SPI_DEVICE = SPI_DEVICE_v910;
    spi_switch_config_data = spi_switch_config_data_v910;
    command_list_size = sizeof(spi_switch_config_data_v910) / sizeof(spi_switch_config_data_v910[0]);
  }
  int fd = open(SPI_DEVICE, O_RDWR);
  if (fd < 0)
    pabort("can't open spi device\n");

  int ret = ioctl(fd, SPI_IOC_WR_MODE, &mode);
  if (ret == -1)
    pabort("can't set spi mode");

  ret = ioctl(fd, SPI_IOC_RD_MODE, &mode);
  if (ret == -1)
    pabort("can't get spi mode");

  ret = ioctl(fd, SPI_IOC_WR_BITS_PER_WORD, &bits);
  if (ret == -1)
    pabort("can't set bits per word");

  ret = ioctl(fd, SPI_IOC_RD_BITS_PER_WORD, &bits);
  if (ret == -1)
    pabort("can't get bits per word");

  ret = ioctl(fd, SPI_IOC_WR_MAX_SPEED_HZ, &speed);
  if (ret == -1)
    pabort("can't set max speed hz");

  ret = ioctl(fd, SPI_IOC_RD_MAX_SPEED_HZ, &speed);
  if (ret == -1)
    pabort("can't get max speed hz");

  uint8_t rx[5] = {0};

  for (int i = 0; i < command_list_size; i++) {
    ret = ioctl(fd, SPI_IOC_RD_BITS_PER_WORD, &bits);
    if (ret == -1)
      pabort("can't get bits per word");

    struct spi_ioc_transfer tr = {
        .tx_buf = (unsigned long)spi_switch_config_data[i],
        .rx_buf = (unsigned long)rx,
        .len = 5,
        .delay_usecs = 0,
        .speed_hz = speed,
        .bits_per_word = bits,
    };

    ret = ioctl(fd, SPI_IOC_MESSAGE(1), &tr);
    if (ret < 0)
      pabort("can't send spi message");
  }

  close(fd);
  return EXIT_SUCCESS;
}
